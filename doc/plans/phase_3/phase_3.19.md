# Фаза 3.19: Fieldsets и organization в PostAdmin

## Цель

Разбить форму Post на логические блоки (fieldsets) для удобного редактирования: Основное, Контент, Медиа, Метаданные, Публикация.

## Контекст

**Текущее состояние:** В [blog/admin.py](../../../blog/admin.py) PostAdmin имеет базовые fieldsets.

**Проблема:** Форма редактирования станет очень длинной с новыми полями. Нужна группировка по смыслу.

**Решение:** Использовать fieldsets с collapse для длинных полей, сгруппировать логически связанные поля.

## Задачи

### Обновление fieldsets

- [ ] Заменить существующие fieldsets на:

```python
fieldsets = (
    ("Основное", {
        "fields": ("title", "slug", "author")
    }),
    ("Контент", {
        "fields": ("content", "excerpt")
    }),
    ("Таксономия", {
        "fields": ("category", "tags")
    }),
    ("Медиа", {
        "fields": ("cover",),
        "classes": ("collapse",)
    }),
    ("Метаданные", {
        "fields": ("views_count", "rating"),
        "classes": ("collapse",)
    }),
    ("Публикация", {
        "fields": ("status", "access_level", "is_published")
    }),
    ("HTML предпросмотр", {
        "fields": ("display_html_preview",),
        "classes": ("collapse",)
    }),
    ("Даты", {
        "fields": ("created_at", "updated_at"),
        "classes": ("collapse",)
    }),
)
```

### Тестирование

- [ ] Открыть форму редактирования поста
- [ ] Проверить что поля сгруппированы логически
- [ ] Проверить что "HTML предпросмотр", "Медиа", "Метаданные" скрыты (collapse)
- [ ] Проверить что можно раскрыть скрытые секции

## Коммит

```
phase 3.19 feat: Реорганизованы fieldsets в PostAdmin

- Разбита форма на логические блоки: Основное, Контент, Таксономия, Медиа
- Использован collapse для длинных секций (HTML, Метаданные, Даты)
- Улучшена читаемость формы редактирования поста
```
