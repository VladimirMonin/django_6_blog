# Гайд по написанию планов фаз проекта

## Цель

Единый формат документации фаз без кода, с фокусом на структуру и архитектурные решения.

---

## phase_X.0.md — Главный документ фазы

### Что это

Краткое содержание всей фазы со ссылками на подфазы.

### Обязательные разделы

1. **# Фаза X: Название**
2. **Общая цель** — 1-2 параграфа что делаем и зачем
3. **Результат фазы** — список ключевых фич с кратким описанием
4. **Философия фазы** — слоган + что делаем/не делаем (✅/❌)
5. **Подфазы** — группы подфаз (3-6 в группе):
   - `#### [Фаза X.Y](phase_X.Y.md): Название`
   - Описание 1-2 предложения
   - **Результат:** конкретный измеримый результат
   - **Для архитектурного сериала:** что показать в видео
6. **Технологический стек** — новые зависимости, встроенные модули, что сохраняем
7. **Архитектура решения** — текстовые ASCII-диаграммы pipeline/структуры
8. **Модели данных** — описание полей текстом (НЕ код)
9. **Безопасность** — риски и защита
10. **Совместимость с Phase X-1** — что остаётся/что изменится
11. **Риски и митигация** — вероятность/причина/решение
12. **Успех фазы** — критерии завершения (✅)
13. **Следующая фаза** — варианты Phase X+1
14. **Чеклист готовности** — что проверить перед стартом
15. **Время выполнения** — оценка по группам подфаз

### Что НИКОГДА не включать

- ❌ Полные блоки кода моделей/классов/функций
- ❌ Раздел "Тестирование" (только в подфазах)
- ❌ Раздел "Миграция данных" (только в подфазах)
- ❌ Python syntax — только текстовое описание

---

## phase_X.Y.md — Документ подфазы

### Что это

Детальный план конкретной маленькой задачи.

### Обязательные разделы

1. **# Фаза X.Y: Название**
2. **Цель** — одно предложение что делаем
3. **Контекст** — 2-3 параграфа:
   - Что было до этого
   - Какую проблему решаем
   - Какие технологии используем
   - **Философия:** ключевой принцип
   - **Документация:** ссылки (если нужно)
4. **Задачи** — список задач с чекбоксами `- [ ]`:
   - Группировать по смыслу
   - Максимум 1-2 коротких примера кода на ВСЮ подфазу (если нужен)
   - Предпочитаем текстовое описание


### Опциональные разделы

- **Референс:** ссылка на существующий код/документацию
- **Тестирование:** только если действительно нужно проверить

---

## Правила описания кода

### ❌ Неправильно

```python
class Post(models.Model):
    title = CharField(max_length=200)
    # ... 50 строк кода
```

### ✅ Правильно

Добавление полей: `author` (FK User), `excerpt`, `cover` (FK PostMedia, null=True), `status` (choices), `views_count`, `rating`.

---

## Правила описания процессов

### ❌ Неправильно

```python
class TableProcessor(HTMLProcessor):
    def process(self, soup: BeautifulSoup) -> None:
        # ... 20 строк кода
```

### ✅ Правильно

Реализовать `TableProcessor` который добавляет Bootstrap классы к таблицам: `.table`, `.table-striped`, `.table-hover`, `.table-bordered`.

---

## Форматирование

### Заголовки

- `#` — название фазы/подфазы
- `##` — основные разделы
- `###` — подразделы
- `####` — подфазы в списке

### Символы

- ✅ — выполнено/делаем
- ❌ — не делаем/запрещено
- ✏️ — изменяется
- `**жирный**` — ключевые термины
- `` `code` `` — имена файлов/методов/команд

### Ссылки

- Внутренние: `[Фаза X.Y](phase_X.Y.md)`
- Внешние: `<https://example.com/>`

---

## Чеклист перед коммитом

### phase_X.0.md

- [ ] Нет полного кода классов
- [ ] Нет раздела "Тестирование"
- [ ] Все подфазы имеют "Для архитектурного сериала"
- [ ] Модели описаны текстом

### phase_X.Y.md

- [ ] Максимум 1-2 коротких примера кода
- [ ] Задачи с чекбоксами
- [ ] Есть раздел "Контекст"
- [ ] Есть раздел "Коммит"

---

## Золотое правило

**Документация фаз = ПЛАН, а не tutorial с кодом.**

Хочешь показать код — опиши его текстом.
